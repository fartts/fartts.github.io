parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"qZBz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.lerp=h,exports.saw=w,exports.tri=y,exports.toDegrees=q,exports.toRadians=F,exports.isFinite=exports.ππ=exports.sqrt=exports.sin=exports.round=exports.random=exports.pow=exports.π=exports.min=exports.max=exports.hypot=exports.floor=exports.cos=exports.ceil=exports.atan2=exports.acos=exports.abs=void 0;const{abs:o,acos:t,atan2:r,ceil:s,cos:e,floor:p,hypot:x,max:n,min:i,PI:a,pow:c,random:u,round:d,sin:m,sqrt:f}=Math;exports.sqrt=f,exports.sin=m,exports.round=d,exports.random=u,exports.pow=c,exports.π=a,exports.min=i,exports.max=n,exports.hypot=x,exports.floor=p,exports.cos=e,exports.ceil=s,exports.atan2=r,exports.acos=t,exports.abs=o;const l=2*a;exports.ππ=l;const{isFinite:b}=Number;function h(o,t,r){return(1-r)*o+r*t}function w(o){return o%l/a-1}function y(t){return 1-2*o(w(t))}function q(o){return 180*o/a}function F(o){return o*a/180}exports.isFinite=b;
},{}],"rOiM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class e extends Float32Array{toString(){return`vec${e.dimensions}(${super.toString()})`}}e.dimensions=2;var t=e;exports.default=t;
},{}],"Uul4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class e extends Float32Array{toString(){return`vec${e.dimensions}(${super.toString()})`}}e.dimensions=3;var t=e;exports.default=t;
},{}],"l540":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class e extends Float32Array{toString(){return`vec${e.dimensions}(${super.toString()})`}}e.dimensions=4;var t=e;exports.default=t;
},{}],"U6jd":[function(require,module,exports) {
"use strict";function e(e,t,r){return[...e,[t,r]]}function t(t){return new Map(t.reduce((t,r)=>[...t,...r.reduce(e,[])],[]))}function*r(e,t="",n=4){if(t.length!==n)for(const o of e){const n=`${t}${o}`;yield n,yield*r(e,n)}}function n(e){return new Set(e.reduce((e,t)=>[...e,...Array.from(r(t))],[]))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.toKeyIndexMap=t,exports.toSwizzledSet=n;
},{}],"fTc5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createProps=l;var e=i(require("./2")),t=i(require("./3")),n=i(require("./4")),r=require("../core/math"),o=require("./keys");function i(e){return e&&e.__esModule?e:{default:e}}const u=[e.default,t.default,n.default];function c(e,t,n){return e[n.get(t)]}function s(e,t){const{length:n}=e;return 1===n?function(){return c(this,e,t)}:function(){const r=e.split("").map(e=>c(this,e,t));return new u[n-2](r)}}function a(e,t,n,o){if(!(0,r.isFinite)(o))throw new Error(`Cannot assign ${typeof o} value "${o}" to a component of ${e.constructor.name}`);e[n.get(t)]=o}function f(e,t){const{length:n}=e;return 1===n?function(n){a(this,e,t,n)}:function(r){if(n!==r.length)throw new Error(["Dimension mismatch",`Cannot assign ${r.length}-component value: ${r} to ${n}-component key ${e}`].join("\n"));e.split("").forEach((e,n)=>a(this,e,t,r[n]))}}function l(e){const t=(0,o.toSwizzledSet)(e),n=(0,o.toKeyIndexMap)(e);return Array.from(t).reduce((e,t)=>(e[t]={configurable:!1,enumerable:!0,get:s(t,n),set:f(t,n)},e),{})}
},{"./2":"rOiM","./3":"Uul4","./4":"l540","../core/math":"qZBz","./keys":"U6jd"}],"NkqO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.slice=exports.isInteger=exports.isArray=void 0;const{isArray:e}=Array;exports.isArray=e;const{isInteger:r}=Number;exports.isInteger=r;const{slice:s}=[];exports.slice=s;
},{}],"wCaH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.toArray=r;var e=require("../core/util");function r(r,t){return r.concat(t instanceof Float32Array?e.slice.call(t):t)}
},{"../core/util":"NkqO"}],"oBOR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.vec4=exports.vec3=exports.vec2=void 0;var e=u(require("./2")),r=u(require("./3")),t=u(require("./4")),o=require("./props"),n=require("./util"),s=require("../core/math");function u(e){return e&&e.__esModule?e:{default:e}}function i(e,r){return(...t)=>{const o=t.reduce(n.toArray,[]);if(o.length>1&&o.length!==r)throw new Error(`${o.length<r?"Not enough":"Too many"} arguments provided for construction of ${e.name.toLowerCase()}`);if(1===o.length&&("number"!=typeof o[0]||!(0,s.isFinite)(o[0])))throw new Error(`Invalid arguments "${o}" provided to  ${e.name.toLowerCase()}`);const u=o.length<=1?new Array(r).fill(o[0]||0):o;return new e(u)}}Object.defineProperties(e.default.prototype,(0,o.createProps)([["r","g"],["s","t"],["x","y"]])),Object.defineProperties(r.default.prototype,(0,o.createProps)([["r","g","b"],["s","t","p"],["x","y","z"]])),Object.defineProperties(t.default.prototype,(0,o.createProps)([["r","g","b","a"],["s","t","p","q"],["x","y","z","w"]]));const[p,a,c]=[i(e.default,2),i(r.default,3),i(t.default,4)];exports.vec4=c,exports.vec3=a,exports.vec2=p;
},{"./2":"rOiM","./3":"Uul4","./4":"l540","./props":"fTc5","./util":"wCaH","../core/math":"qZBz"}],"AIhk":[function(require,module,exports) {
"use strict";function e(e,t,n,o=!1){e.addEventListener(t,n,o)}function t(e,t,n,o=!1){e.removeEventListener(t,n,o)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.on=e,exports.off=t;
},{}],"jwVQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.el=o,exports.on=n,exports.off=i,exports.dpr=exports.cAF=exports.rAF=void 0;const{requestAnimationFrame:e,cancelAnimationFrame:t,devicePixelRatio:r}=window;function o(e){const t=document.querySelector(e);if(!t)throw new Error(`Couldn't get "${e}" element`);return t}function n(e,t){return window.addEventListener(e,t)}function i(e,t){return window.removeEventListener(e,t)}exports.dpr=r,exports.cAF=t,exports.rAF=e;
},{}],"cuMD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.resize=n;const{max:e}=Math,{devicePixelRatio:t}=window;function i(e=1,t=0){return t%e!=0?t+(e-t%e):t}function n(n,o,s=1){const{clientHeight:c,clientWidth:r}=n,h=i(s,r),d=i(s,c);o.width=h*t/s,o.height=d*t/s,o.style.transform=`scale(${e(r/o.width,c/o.height)})`}
},{}],"Fkft":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.env=exports.handleResize=void 0;var e=require("../../../../lib/core/dom"),t=require("../events"),n=require("../resize");const r=(0,e.el)("main"),s=(0,e.el)("canvas"),o=s.getContext("2d");if(!o)throw new Error("Couldn't get a `CanvasRenderingContext2D`");r.style.width="800px",r.style.height="800px";const i=12;let a=!0;const l=()=>{a&&((0,n.resize)(r,s,12),a=!1)};exports.handleResize=l,(0,t.on)(window,"resize",()=>{a=!0});const c={main:r,canvas:s,context:o,scale:12};exports.env=c;
},{"../../../../lib/core/dom":"jwVQ","../events":"AIhk","../resize":"cuMD"}],"V3L6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.rng=void 0;var e=require("../../../../lib/core/math");const r=(r,o)=>(0,e.lerp)(r,o,(0,e.random)());exports.rng=r;
},{"../../../../lib/core/math":"qZBz"}],"umyN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.particle=void 0;var e=require("../../../../lib/vec");const r=(r,t)=>({cpos:(0,e.vec2)(r,t),ppos:(0,e.vec2)(r,t)});exports.particle=r;
},{"../../../../lib/vec":"oBOR"}],"fEJU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.state=void 0;var e=require("../../../../lib/vec"),r=require("../util/env"),t=require("./particle");const s={mouse:(0,t.particle)(0,0),mouseDown:!1,keys:[],bounds:[],intersections:[],gravity:(0,e.vec2)(0,6/r.env.scale),player:(0,t.particle)(0,0)};exports.state=s;
},{"../../../../lib/vec":"oBOR","../util/env":"Fkft","./particle":"umyN"}],"t0oA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.poiv=exports.perp=exports.nrml=exports.size=exports.muls=exports.adds=exports.crsp=exports.dotp=exports.subv=exports.addv=exports.copy=exports.vec2=void 0;var s=require("../../../../lib/core/math");const o=(s,o)=>({x:s,y:o});exports.vec2=o;const t=s=>o(s.x,s.y);exports.copy=t;const x=(s,t)=>o(s.x+t.x,s.y+t.y);exports.addv=x;const e=(s,t)=>o(s.x-t.x,s.y-t.y);exports.subv=e;const r=(s,o)=>s.x*o.x+s.y*o.y;exports.dotp=r;const p=(s,o)=>s.x*o.y-s.y*o.x;exports.crsp=p;const y=(s,t)=>o(s.x+t,s.y+t);exports.adds=y;const c=(s,t)=>o(s.x*t,s.y*t);exports.muls=c;const n=({x:o,y:t})=>(0,s.hypot)(o,t);exports.size=n;const d=s=>c(s,1/n(s));exports.nrml=d;const a=({x:s,y:t})=>o(t,-s);exports.perp=a;const v=([s,t],[r,y])=>{const n=e(t,s),d=e(y,r),a=p(n,d);if(0===a)return o(NaN,NaN);const v=e(y,s),i=((y.y-r.y)*v.x+(r.x-y.x)*v.y)/a,u=((s.y-t.y)*v.x+(t.x-s.x)*v.y)/a;return-.01<i&&i<1.01&&-.01<u&&u<1.01?x(s,c(n,i)):o(NaN,NaN)};exports.poiv=v;
},{"../../../../lib/core/math":"qZBz"}],"WIhY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=void 0;var e=require("../util/env"),t=require("../util/math"),r=require("../util/particle"),c=require("../util/state"),i=require("../util/vec2");const a=()=>{const{width:a,height:s}=e.env.canvas,u=()=>(0,t.rng)(.1*s,.2*s),v=()=>(0,t.rng)(.8*a,.9*a),n=()=>(0,t.rng)(.8*s,.9*s),l=()=>(0,t.rng)(.1*a,.2*a),o=(0,i.vec2)(l(),u()),p=(0,i.vec2)(.5*(l()+v()),u()),g=(0,i.vec2)(v(),u()),d=(0,i.vec2)(v(),.5*(u()+n())),q=(0,i.vec2)(v(),n()),h=(0,i.vec2)(.333*(l()+v()),(()=>(0,t.rng)(.6*s,.8*s))()),x=(0,i.vec2)(l(),n()),b=(0,i.vec2)(l(),.5*(u()+n()));c.state.bounds=[[o,p],[p,g],[g,d],[d,q],[q,h],[h,x],[x,b],[b,o]],c.state.mouse=(0,r.particle)(.5*a,.5*s),c.state.player=(0,r.particle)(.5*a,.5*s)};exports.create=a;
},{"../util/env":"Fkft","../util/math":"V3L6","../util/particle":"umyN","../util/state":"fEJU","../util/vec2":"t0oA"}],"VSXL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.render=void 0;var e=require("../../../../lib/core/math"),t=require("../util/env"),l=require("../util/state"),o=require("../util/vec2");const s=12/t.env.scale,r=13*s,i=8*s,y=5*s,a=3*s,d=(0,e.hypot)(a,a),n=(e,t,l)=>{e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(l.x,l.y),e.stroke()},c=(e,t)=>{e.beginPath(),t.forEach(([t,l])=>{e.moveTo(t.x,t.y),e.lineTo(l.x,l.y)}),e.stroke()},p=(e,t,l)=>{n(e,(0,o.adds)(t,-l),(0,o.adds)(t,l)),n(e,(0,o.addv)(t,{x:-l,y:l}),(0,o.addv)(t,{x:l,y:-l}))},v=(e,t,l)=>{n(e,(0,o.addv)(t,{x:0,y:-l}),(0,o.addv)(t,{x:0,y:l})),n(e,(0,o.addv)(t,{x:-l,y:0}),(0,o.addv)(t,{x:l,y:0}))},x=o=>{const{width:s,height:x}=t.env.canvas,{mouse:k,mouseDown:u,bounds:S,intersections:f,player:h}=l.state;o.clearRect(0,0,s,x),o.strokeStyle=o.fillStyle="black",c(o,S),o.strokeStyle=o.fillStyle="black",o.beginPath(),o.ellipse(h.cpos.x,h.cpos.y,r,r,0,0,e.ππ),u?o.fill():o.stroke(),o.strokeStyle=o.fillStyle="cyan",v(o,h.cpos,d),o.strokeStyle=o.fillStyle="blue",o.beginPath(),o.ellipse(k.cpos.x,k.cpos.y,i,i,0,0,e.ππ),u?o.fill():o.stroke(),o.strokeStyle=o.fillStyle="red",o.beginPath(),o.ellipse(k.ppos.x,k.ppos.y,y,y,0,0,e.ππ),u?o.fill():o.stroke(),o.strokeStyle=o.fillStyle="green",f.forEach(([,,e])=>{p(o,e,a)}),o.strokeStyle=o.fillStyle="magenta",n(o,h.ppos,h.cpos)};exports.render=x;
},{"../../../../lib/core/math":"qZBz","../util/env":"Fkft","../util/state":"fEJU","../util/vec2":"t0oA"}],"oMOF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.loop=void 0;var e=require("../../../../lib/core/dom"),o=require("./env");const r=(r,t,s)=>{let n=0,c=0,i=0,l=0;const p=r=>{l=(0,e.rAF)(p),(0,o.handleResize)();const a=r-n;for(i+=a-c;i>=1e3/60;)t(c+=1e3/60,1e3/60),i-=1e3/60;s(o.env.context),c=a};return{isPlaying:()=>0!==l,start:()=>{n=performance.now(),l=(0,e.rAF)(p),r()},stop:()=>{n=0,c=0,i=0,(0,e.cAF)(l),l=0}}};exports.loop=r;
},{"../../../../lib/core/dom":"jwVQ","./env":"Fkft"}],"RYid":[function(require,module,exports) {

},{}],"hVjV":[function(require,module,exports) {

},{"../../src/styles/base.css":"RYid","../../src/styles/cover.css":"RYid"}],"zUKK":[function(require,module,exports) {
"use strict";var e=require("../../../lib/core/math"),s=require("../../../lib/vec"),t=require("./events"),o=require("./game/create"),i=require("./game/render"),n=require("./util/env"),r=require("./util/loop"),u=require("./util/state"),c=require("./util/vec2");require("./style.css");const p=()=>{const{bounds:e,gravity:s,player:t}=u.state,o=(0,c.addv)((0,c.subv)(t.cpos,t.ppos),s),i=(0,c.addv)(t.cpos,o),n=[t.cpos,i];if(u.state.intersections=e.reduce((e,s)=>{const t=(0,c.poiv)(s,n);return isNaN(t.x)||isNaN(t.y)||e.push([s,n,t]),e},[]),u.state.intersections.length){const[[e,s],[o,i],n]=u.state.intersections[0],r=(0,c.subv)(i,o),p=(0,c.nrml)((0,c.perp)((0,c.subv)(s,e))),a=(0,c.size)((0,c.subv)(i,n))/(0,c.size)(r),l=(0,c.addv)(n,(0,c.muls)((0,c.subv)(r,(0,c.muls)(p,2*(0,c.dotp)(r,p))),1-a));t.ppos=(0,c.copy)(n),t.cpos=l}else t.ppos=(0,c.copy)(t.cpos),t.cpos=(0,c.copy)(i)},{isPlaying:a,start:l,stop:v}=(0,r.loop)(o.create,p,i.render);(0,t.on)(window,"keyup",e=>{" "===e.key&&(a()?v():l(),console.log(a()?"started":"stopped"))}),(0,t.on)(window,"mousemove",t=>{const{clientWidth:o,clientHeight:i}=n.env.main,{width:r,height:p}=n.env.canvas,a=(0,e.max)(o/r,i/p);u.state.mouse.ppos=(0,c.copy)(u.state.mouse.cpos),u.state.mouse.cpos=(0,s.vec2)((t.clientX-n.env.main.offsetLeft)/a,(t.clientY-n.env.main.offsetTop)/a)}),(0,t.on)(window,"mousedown",()=>{u.state.mouseDown=!0}),(0,t.on)(window,"mouseup",()=>{u.state.mouseDown=!1}),(0,n.handleResize)(),l();
},{"../../../lib/core/math":"qZBz","../../../lib/vec":"oBOR","./events":"AIhk","./game/create":"WIhY","./game/render":"VSXL","./util/env":"Fkft","./util/loop":"oMOF","./util/state":"fEJU","./util/vec2":"t0oA","./style.css":"hVjV"}]},{},["zUKK"], null)
//# sourceMappingURL=/entry.1cbf46a1.js.map